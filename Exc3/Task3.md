# Архитектурное решение по трейсингу

## Раздел «Мотивация». 
Трейсинг необходим для ускорения нахождения проблем и отслеживания запросов в приложении.
Например, трейсинг поможет найти причины медленной работы сервиса, а именно на это жалуются клиента и операторы системы.  

Трейсинг позволяет анализировать поведение всей системы и ускоряет диагностику проблем, что способствует повышению стабильности и надёжности. 

Так же трейсинг позволяет оценить пути выполнения запроса и влияния таких факторов, как сетевые проблемы, медленные запросы к БД, на время выполнения запросов. 

Внедрение трейсинга повлияет на такие технические  и бизнес-метрики как:
частота ошибок в той или иной части приложения - их быстрое обнаружение и исправление;
время выполнения запроса в конкретных частях системы или в базе данных - оптимизация запросов и устранение задержек;
затраты на поддержку - позволит их снизить.

## Раздел «Предлагаемое решение».

Необходимо установить инастроить Jaeger, а так же добавить зависимости OpenTelemetry (OTel) в каждый сервис и настроить OTel на отправку данных трейсинга в Jaeger.

https://drive.google.com/file/d/1HqDMsal7oEHDx2RJ4unrE0XjfwJvkVZM/view?usp=sharing


## Раздел «Компромиссы». 
В случае работы с проприетарной системой сложно заставить систему отдавать метрики в нужном формате и для этого может потребоваться дорогостоящая доработка.
Кроме того, трейсинг может быть неэффективен если каждая система вынуждена решать какие запросы мониторить подробно и нет. В результате картина по запросам будет фрагментированной и непоказательной. 
Нецелесобразно и экономически невыгодно вводить трейсинг для простых и небольших приложений.
В случае работы с конфеденциальными данными, например перс.данные клиентов, трассировка невозможна потому как создаст риски.

## Проработайте аспекты безопасности.
Внедрение аутентификации, таким образом доступ к данным трейсинга будет лишь у сотрудники компании с актуальной учетной записью и ролью "Поддержка".
Данные трейсинга необходимо передавать только в зашифрованном виде.
Данные трейсинга хранятся на отдельном сервере за
МСЭ (межсетевой экран).