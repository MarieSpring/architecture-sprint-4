# Архитектурное решение по кешированию

## Раздел «Мотивация».
Внедрение кэширования повышает скорость загрузки страниц, что ускоряет отображение контента для посетителей. 
Так же кэширование позволяет уменьшить нагрузку на сервер. Что в свою очередь снижает нагрузку на CPU и память, увеличивая производительность. 
В связи с участившимися жалобами от клиентов, кэширование позволит улучшить пользовательский опыт, ведь быстрая загрузка страниц и контента повышает удобство использования сайта для посетителей.

Проблемы системы, которые решит кэширование - это задержки в загрузке первой страницы MES и снижение нагрузки на БД.

Элементами для кэширования целесообразно выбрать информацию о заказах и их статусах.

## Раздел «Предлагаемое решение».
Предпочитаемый тип кэширования в данном случае выбран серверный. 
Серверное кэширование повышет производительность, а именно сокращает время, необходимое для извлечения данных, что приводит к более быстрому отклику пользователей.
Так же снижается нагрузка на сервер, что позволяет  обрабатывать большее количество запросов одновременно. При росте кодичества заказов и клиентов системы это крайне важно.
Кроме того, серверное кэширование позволяет масштабироваться более эффективно, поскольку кэширование позволяет им управлять более высокими нагрузками на трафик без пропорционального увеличения использования ресурсов.

В качестве паттерна кэширования выбран Write-Through, который гарантирует, что данные между кэшем и базой данных всегда будут синхронизированы. Это исключает возможность неконсистентности кэша и его инвалидацию.

Паттерн Cache-Aside так же не подходит по причине того, что может приводить к несогласованности данных в кэше с базой данных, когда запись делается в базу данных, но не в кэш, а в кэше всё ещё старые данные.
В случае получения статуса заказов данной несоглосованности следует избегать, чтобы не работать с неактуальными данными.

Паттерг Refresh-Ahead требует точного прогнозирования будущих потребностей в элементах кэша, что будет избыточно в данным случае, а так же может приводить к ненужным чтениям из базы данных.

Exc5\diagram.puml
Exc5\diagram.png

### Стратегия инвалидации кеша
Планируется использовать программную инвалидации кэша. Данный тип инвалидации позволит гибко управлять логикой кэша в соответствии с логикой и потребностями приложения.

Временная инвалидация не подходит и может привести к неактуальным данным, так как операторам важно видеть самые новые заказы, а клиентам получать актуальную информацию о статусах их заказов. 

Для инвалидации по ключу минусом выступает потенциально высокая стоимость операций инвалидации и сложность отслеживания всех изменений.