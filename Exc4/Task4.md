# Архитектурное решение по логированию

## Проанализируйте систему компании и C4-диаграмму в контексте планирования логирования. 
Необходимые логи с уровнем INFO:
- переход между статусами заказа - время обновления, id заказа, статус.
- создание и загрузка 3D-модели - время, пользователь, параметры.
- расчет стоимости модели - время начала, время завершения, количество полигонов.

## Раздел «Мотивация».
Добавление логирования в систему неоходимо по ряду причин, а именно:
- для анализа поведения системы и диагностики проблем;
- для безопасности, позволяют отслеживать разного рода подозрительные действия в системе и попытки несанкционированного доступа;
- экономия времени на этапе поикса проблем и ошибок;
- упрощает расследование инцидентови и позволчет восстановить события, с большей вероятностью обнаружить проблему еще до того, как клиент обратится с ней.

Приоритетные системы для настройки логирования и трейсинга:
- CRM API и MES API - данные системы напрямую влияют на обработку заказов и потому задержки негативно сказываются на клиентский опыт взаимодействия с системой вцелом;
- RabbitMQ - для надежной передачи сообщений между частями системы, без потерь и задержек.

## Раздел «Предлагаемое решение».

Для агрегации данных логов использовать Filebeat.
Логировани будет реализовано средствами стека ELK.

Политика безопасности в отношении логов следующая:
- чувствительные данные не должны попадать в данные логов
- доступ к логам у ограниченного числа лиц, наделенных определенной ролью и доступами с обязательной сменой пароля не реже одного раза в три месяца

Политика хранения в отношении логов следующая:
- выделить отдельный индекс под систему
- ограничение на хранение логов в зависимости от типа данных:
    - горячие данные хранить до 1 месяца
    - холодные данные хранить до 3 месяцев
    - архивные данны хранить до 1 года
- автоматическая настройка ротации логов согласно периоду и при достижении максимально заданных органичений по размеру.

## Проработайте необходимые мероприятия для превращения системы сбора логов в систему анализа логов:

Для превращения системы сбора логов в систему анализа логов необходимо настроить алерты о критических ошибках, о значительном увеличении их количества в системе; алерты о слишком долгих запросах в системе; алерты на пикорые всплески в системе.
Создать дашборды для наглядной визуализации в Kibana.